<!DOCTYPE html>
<html lang="pt">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Minha Conta - GigaMoz Agency</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="css/style.css">
  <style>
    .user-header {
      background: linear-gradient(135deg, var(--accent), var(--accent-2));
      color: white;
      padding: 40px 0;
      margin-bottom: 30px;
    }
    .user-info {
      display: flex;
      align-items: center;
      gap: 20px;
    }
    .user-avatar {
      width: 80px;
      height: 80px;
      border-radius: 50%;
      background: rgba(255,255,255,0.2);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 2rem;
      font-weight: bold;
    }
    .dashboard-stats {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 20px;
      margin-bottom: 30px;
    }
    .stat-card {
      background: var(--card);
      padding: 20px;
      border-radius: 10px;
      border: 1px solid var(--border);
      text-align: center;
    }
    .stat-number {
      font-size: 2rem;
      font-weight: bold;
      color: var(--accent);
      display: block;
    }
    .dashboard-tabs {
      display: flex;
      gap: 10px;
      margin-bottom: 20px;
      border-bottom: 1px solid var(--border);
      flex-wrap: wrap;
    }
    .dashboard-tab {
      padding: 10px 20px;
      cursor: pointer;
      border-bottom: 2px solid transparent;
    }
    .dashboard-tab.active {
      border-bottom-color: var(--accent);
      color: var(--accent);
    }
    .tab-content {
      display: none;
    }
    .tab-content.active {
      display: block;
    }
    .order-item {
      background: var(--card);
      padding: 15px;
      border-radius: 8px;
      border: 1px solid var(--border);
      margin-bottom: 10px;
    }
    .order-status {
      display: inline-block;
      padding: 4px 8px;
      border-radius: 12px;
      font-size: 0.8rem;
      font-weight: bold;
    }
    .status-pending { background: #fef3c7; color: #92400e; }
    .status-completed { background: #d1fae5; color: #065f46; }
    .status-processing { background: #dbeafe; color: #1e40af; }
  </style>
</head>
<body>
  <!-- Toast Notifications -->
  <div id="toastContainer"></div>

  <div class="container">
    <header>
      <div class="brand">
        <div class="logo">GM</div>
        <div>
          <h2>GigaMoz Agency</h2>
          <div class="muted">Ãrea do Cliente</div>
        </div>
      </div>
      <nav>
        <a href="index.html">ğŸ  Loja</a>
        <button class="ghost" onclick="authManager.logout()">ğŸšª Sair</button>
      </nav>
    </header>

    <main>
      <!-- Header do UsuÃ¡rio -->
      <section class="user-header">
        <div class="user-info">
          <div class="user-avatar" id="userAvatar">ğŸ‘¤</div>
          <div>
            <h1 id="userName">Carregando...</h1>
            <p id="userEmail" class="muted">carregando...</p>
          </div>
        </div>
      </section>

      <!-- ConteÃºdo Principal -->
      <section>
        <div class="card">
          <h3>ğŸ‘‹ Bem-vindo ao seu Dashboard!</h3>
          <p>Esta Ã© sua Ã¡rea pessoal. Aqui vocÃª pode:</p>
          <ul>
            <li>ğŸ“¦ Ver seus pedidos</li>
            <li>ğŸ‘¤ Editar seu perfil</li>
            <li>ğŸ’¬ Falar com suporte</li>
            <li>ğŸ›’ Continuar comprando</li>
          </ul>
          <div style="margin-top: 20px; display: flex; gap: 10px;">
            <a href="index.html" class="btn">ğŸ›’ Continuar Comprando</a>
            <button class="ghost" onclick="openWhatsApp()">ğŸ’¬ Suporte WhatsApp</button>
          </div>
        </div>

        <!-- EstatÃ­sticas RÃ¡pidas -->
        <div class="dashboard-stats">
          <div class="stat-card">
            <span class="stat-number" id="ordersCount">0</span>
            <span class="muted">Total de Pedidos</span>
          </div>
          <div class="stat-card">
            <span class="stat-number" id="completedOrders">0</span>
            <span class="muted">Pedidos ConcluÃ­dos</span>
          </div>
          <div class="stat-card">
            <span class="stat-number" id="totalSpent">0 MT</span>
            <span class="muted">Total Gasto</span>
          </div>
          <div class="stat-card">
            <span class="stat-number" id="pendingOrders">0</span>
            <span class="muted">Pedidos Pendentes</span>
          </div>
        </div>

        <!-- Pedidos Recentes -->
        <div class="card">
          <h4>ğŸ“¦ Seus Pedidos Recentes</h4>
          <div id="ordersList">
            <p class="muted">Carregando seus pedidos...</p>
          </div>
        </div>
      </section>
    </main>
  </div>

  <!-- Scripts na ORDEM CORRETA -->
  <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-firestore-compat.js"></script>
  
  <script src="js/firebase-config.js"></script>
  <script src="js/utils/notifications.js"></script>
  <script src="js/auth.js"></script>
  <script src="js/dashboard.js"></script>

  <script>
    function openWhatsApp() {
      const phone = '258847206883';
      const message = encodeURIComponent('OlÃ¡! Preciso de suporte sobre minha conta GigaMoz.');
      window.open(`https://wa.me/${phone}?text=${message}`, '_blank');
    }

    // Debug
    console.log('ğŸ“ Dashboard carregado');
  </script>
</body>
</html>